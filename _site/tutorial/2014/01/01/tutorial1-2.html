<!DOCTYPE html>
<html>
  <head>
    <!-- Theme by Niklas Buschmann <http://github.com/niklasbuschmann> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    
    <meta name="description" content="Define a simple data model.">
    <title> Your first xnlogic application - part 2 â€º xnlogic tutorials</title>
    <link rel="canonical" href="/tutorial/2014/01/01/tutorial1-2.html">
    <link href="/main.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,200italic,300italic,400italic,600italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Gentium+Basic:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css' rel='stylesheet' type='text/css'>
    <link rel="alternate" type="application/rss+xml" title="xnlogic tutorials &raquo; Feed" href="/feed.xml">
    
    
  </head>
  <body>
    <header>
      <a href="/">
        <img class="center nav-image" src="/assets/logo.png"/>
        <h1>Tutorials</h1>
      </a>
      
      

      <!--
      
      <h1><a href="/"> xnlogic tutorials</a></h1>
      
      -->
      <!--
      <nav>
        <ul>
          <li><a href="/">Home</a></li>
        </ul>
      </nav>
      -->
    </header>

    
    

        <article>

      <header>
        <h2><a href="/tutorial/2014/01/01/tutorial1-2.html">Your first xnlogic application - part 2</a></h2>
      </header>

      <div>
<p>Our new application contains only boilerplate code. In order to make it more interesting, we should define a data model. For this tutorial, we will create an over-simplified version of Twitter.</p>

<p><img src="/assets/twitter_like_model.png" alt="Data model" /></p>

<ul>
  <li>The only entities/models are <code>User</code>s and <code>Tweet</code>s.</li>
  <li>The relation between users and tweets is one-to-many. That is, a user can create mutliple tweets, but each tweet is created by exactly one user.</li>
</ul>

<blockquote>
  <p><em>Note:</em> All paths below are specified relative to the application root folder.</p>
</blockquote>

<h4 id="create-libmyapppartsuserrb">Create <code>lib/my_app/parts/user.rb</code></h4>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">module</span> <span class="nn">MyApp</span>
  <span class="k">module</span> <span class="nn">User</span>
    <span class="n">xn_part</span>

    <span class="n">property</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">type</span><span class="p">:</span> <span class="ss">:text</span>

    <span class="n">to_many</span> <span class="ss">:Tweet</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>

<h4 id="create-libmyapppartstweetrb">Create <code>lib/my_app/parts/tweet.rb</code></h4>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">module</span> <span class="nn">MyApp</span>
  <span class="k">module</span> <span class="nn">Tweet</span>
    <span class="n">xn_part</span>

    <span class="n">property</span> <span class="ss">:content</span><span class="p">,</span> <span class="ss">type</span><span class="p">:</span> <span class="ss">:text</span>
    <span class="n">property</span> <span class="ss">:time</span><span class="p">,</span> <span class="ss">type</span><span class="p">:</span> <span class="ss">:date</span>

    <span class="n">from_one</span> <span class="ss">:User</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></div>

<h4 id="edit-libmyappmodelsrb">Edit <code>lib/my_app/models.rb</code></h4>

<p>Add the following two entries to the <code>client_models</code> hash:</p>

<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="ss">user</span><span class="p">:</span> <span class="o">[</span><span class="no">User</span><span class="o">]</span><span class="p">,</span>
<span class="ss">tweet</span><span class="p">:</span> <span class="o">[</span><span class="no">Tweet</span><span class="o">]</span></code></pre></div>

<blockquote>
  <p><em>Note:</em> In xnlogic, we define a data model in terms of <a href="https://github.com/xnlogic/xn-gem-template/wiki/Data-Modeling,-Parts-and-Models">models and parts</a>.
In future tutorials, we will discuss these fundamental concepts in detail. For now, think of a part and model as the same thing - Ruby module that extends a vertex in the graph.</p>
</blockquote>

      </div>

      <footer>
        
        <hr />
        Next tutorial: <a href="/tutorial/2014/01/01/tutorial1-3.html">Your first xnlogic application - part 3</a>
        
      </footer>

    </article>


    

    








    <footer>
      <!--
      <span><a href=""></a></span>
      <span><a href="http://xnlogic.com"><i class="fa fa-xnlogic-square"></i></a></span>
      <span>&copy; 2015</span>
      -->
    </footer>
  </body>
</html>
